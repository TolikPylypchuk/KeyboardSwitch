<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.3 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Character Mappings | Keyboard Switch</title>
<meta name="description" content="In order for the Keyboard Switch service to know how to map characters, you have to configure the character mappings yourself. The app reads the list of installed layouts in the system, so it knows which layouts you use and in what order. What it doesn’t (and can’t) know is the physical layout of your keyboard, so it doesn’t know what happens if you press certain keys on your keboard.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Keyboard Switch">
<meta property="og:title" content="Character Mappings">
<meta property="og:url" content="/v3.0/char-mappings">


  <meta property="og:description" content="In order for the Keyboard Switch service to know how to map characters, you have to configure the character mappings yourself. The app reads the list of installed layouts in the system, so it knows which layouts you use and in what order. What it doesn’t (and can’t) know is the physical layout of your keyboard, so it doesn’t know what happens if you press certain keys on your keboard.">







  <meta property="article:published_time" content="2021-01-01T16:24:17+00:00">






<link rel="canonical" href="/v3.0/char-mappings">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Keyboard Switch Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Keyboard Switch
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="https://github.com/TolikPylypchuk/KeyboardSwitch/releases">Get the App</a>
            </li><li class="masthead__menu-item">
              <a href="https://github.com/TolikPylypchuk/KeyboardSwitch">View on GitHub</a>
            </li><li class="masthead__menu-item">
              <a href="/v3.0/">v3.0 Docs</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Getting Started</span>
        

        
        <ul>
          
            <li><a href="/v3.0/">Home Page</a></li>
          
            <li><a href="/v3.0/installation">Installation</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Settings</span>
        

        
        <ul>
          
            <li><a href="/v3.0/settings-app">The Settings App</a></li>
          
            <li><a href="/v3.0/char-mappings" class="active">Character Mappings</a></li>
          
            <li><a href="/v3.0/preferences">Preferences</a></li>
          
            <li><a href="/v3.0/converter">Converter</a></li>
          
            <li><a href="/v3.0/other-tabs">Other Tabs</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Other</span>
        

        
        <ul>
          
            <li><a href="/v3.0/technical">Technical Stuff</a></li>
          
            <li><a href="/v3.0/about">About</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Character Mappings">
    <meta itemprop="description" content="In order for the Keyboard Switch service to know how to map characters, you have to configure the character mappingsyourself. The app reads the list of installed layouts in the system, so it knows which layouts you use and in whatorder. What it doesn’t (and can’t) know is the physical layout of your keyboard, so it doesn’t know what happens ifyou press certain keys on your keboard.">
    <meta itemprop="datePublished" content="2021-01-01T16:24:17+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Character Mappings
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu">
  <li><a href="#text-vs-keyboard">Text vs Keyboard</a></li>
  <li><a href="#how-character-mappings-work">How Character Mappings Work</a></li>
  <li><a href="#auto-configuration">Auto-Configuration</a></li>
  <li><a href="#limitations">Limitations</a></li>
</ul>

            </nav>
          </aside>
        
        <p>In order for the Keyboard Switch service to know how to map characters, you have to configure the character mappings
yourself. The app reads the list of installed layouts in the system, so it knows which layouts you use and in what
order. What it doesn’t (and can’t) know is the physical layout of your keyboard, so it doesn’t know what happens if
you press certain keys on your keboard.</p>

<h2 id="text-vs-keyboard">Text vs Keyboard</h2>

<p>This section explains <em>why</em> you need to configure character mappings for the app. If you’re not interested, feel free
to skip it.</p>

<p>Working with text and working with keyboard are two wildly different things. You, the user of a computer, usually work
with a keyboard (or other input devices, but those don’t matter here). This app however works with text (even though
its name might suggest differently), and so text transformation during switching will most probably not be perfect.</p>

<p>Ideally you wouldn’t have to configure the app at all - it would just know how to transform the text you mistyped into
another layout. After all, the OS somehow knows which characters to produce when you press various keys! But going that
way would be extremely difficult, if not impossible.</p>

<p>Firstly, pressing keys and entering characters are absolutely not the same thing. Many keys don’t have corresponding
characters at all, like <em>Ctrl</em> or <em>Page Up</em>. The same key press can produce different characters based on the state of
other keys. For example, the <em>A</em> key usually produces <strong>a</strong>, but when <em>Shift</em> is down, the key produces <strong>A</strong>. And then
there are dead keys - key combinations that produce one character by pressing two (or even three) keys. For example, in
the US International layout, pressing <em>‘</em> and then <em>A</em> will produce <strong>á</strong>.</p>

<p>Secondly, it’s impossible to know which keys have been pressed just by looking at text. This is because the same
character can be produced using different keys or key combinations (or it can be pasted, so the keyboard wouldn’t be
used at all).</p>

<p>So in order to just know how to transform the text you’ve mistyped, the app would have to keep track of the keys you’ve
pressed, and then infer which of those pressed keys actually played a role in producing the mistyped text, and then
ask the OS which characters would be produced with the same key sequence. You can see how that’s unreasonable. First of
all, the app would have to track <em>all</em> the keys you press, and that would be quite sketchy. Would you trust an app which
logs everyhing you type? I certainly wouldn’t. And ethics aside, there still are technical issues. How many keys should
the app track? What happens if the user pastes part of the text instead of typing it? Etc, etc.</p>

<p>And that’s why the app uses a much simpler solution - it lets you, the user, figure out how the text should be
transformed. The app can auto-configure the mappings using a simple method, but it’s still up to you to check whether
it’s all correct.</p>

<h2 id="how-character-mappings-work">How Character Mappings Work</h2>

<p>Here’s how the tab looks when the app is opened for the first time:</p>

<p><img src="/assets/images/v3.0/screen-char-mappings-empty.png" alt="screen-empty" /></p>

<p>You have to enter every character you can think of (which can be entered using your keyboard) into the text fields
which correspond to layouts. For example, press the <em>Q</em> key, then press the <em>W</em> key, and so on. Then press
<em>Shift+Q</em>, then <em>Shift+W</em> etc. to add uppercase letters.</p>

<p>You should press the keys <em>in the same order</em> for all layouts. Order matters here because the service will look at
characters in same positions to determine how to transform the text. For example, let’s say you have two layouts in your
system: English (US) and Ukrainian (Enhanced). You put <strong>q</strong> as the first character in the text field for English, and
<strong>й</strong> as the first character in the text field for Ukrainian (because that’s the character you get when you press the
<em>Q</em> key). Now the service will know that when it switches from English to Ukrainian, it should transform <strong>q</strong> to <strong>й</strong>.
If the second characters are <strong>w</strong> and <strong>ц</strong> for English and Ukrainian respectively, then the service will transform
<strong>w</strong> to <strong>ц</strong>.</p>

<p>If you don’t want to map a certain character, you can put a space in its position in the other layout. The space
character acts as a <em>don’t map this character</em> command, though it should generally be avoided.</p>

<h2 id="auto-configuration">Auto-Configuration</h2>

<p>Even though you have to do it only once, configuring character mappings is still cumbersome and error-prone. That’s why
the app includes the auto-configuration feature. It’s available only when all text fields are empty. The
auto-configuration is quite simple (naive even), and it shouldn’t be 100% trusted, so you still have to check its output
and fix mistakes, or add other characters manually. But usually auto-configuration should be good enough.</p>

<p>Here’s how the tab looks after running auto-configuration:</p>

<p><img src="/assets/images/v3.0/screen-auto-configuration.png" alt="screen-auto-configuration" /></p>

<p>What auto-configuration does is basically ask the OS what would happen if certain keys were pressed using various
layouts. There is no easy way to get the information about <em>all</em> keys on your keyboard, so it asks only about the most
common ones. Here’s the list of those keys for the US layout:</p>

<ul>
  <li>All letter keys (<em>Q</em>, <em>W</em>, <em>E</em> etc.)</li>
  <li>Number keys</li>
  <li>Other common keys: <em>[</em> <em>]</em> <em>;</em> <em>‘</em> <em>,</em> <em>.</em> <em>/</em> <em>\</em> <em>-</em> <em>=</em> <em>`</em></li>
  <li>All those keys with the <em>Shift</em> key</li>
  <li>All those keys with the <em>AltGr</em> key</li>
  <li>All those keys with the <em>Shift+AltGr</em> keys</li>
</ul>

<p>Not all of those key combinations actually produce characters for all layouts. So after asking the OS about all of
these keys, the app keeps only those character combinations which are defined for all layouts. For example, if you press
<em>AltGr+U</em> in the Ukrainian layout, you will get <strong>ґ</strong>, but if you press those keys in the US layout, you won’t get
anything at all, so the app will just throw <strong>ґ</strong> out as it won’t know how to map it to the US layout.</p>

<h2 id="limitations">Limitations</h2>

<p>You can map every character only once per layout. Otherwise, it would be impossible to map characters deterministically.</p>

<p>Characters are always mapped one to one. You cannot map one character to several characters.</p>

<p>Dead keys are not supported.</p>

<p>The space character cannot be mapped to other characters. This is not really a limitation, because the space character
is the same in every layout (at least that’s the assumption).</p>

<p>The app doesn’t play nicely with text if you switched the layout yourself in the middle of typing. If that’s the case,
the app will not switch it correctly, and you will have to fix some of it yourself.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2021-01-01T16:24:17+00:00">January 1, 2021</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/v3.0/settings-app" class="pagination--pager" title="The Settings App
">Previous</a>
    
    
      <a href="/v3.0/preferences" class="pagination--pager" title="Preferences
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/TolikPylypchuk" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Keyboard Switch. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
